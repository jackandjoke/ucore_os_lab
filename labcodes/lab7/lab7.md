# 练习7  

### 练习1: 理解内核级信号量的实现和基于内核级信号量的哲学家就餐问题（不需要编码）

* 内核级的信号量的设计是由一个int整数和一个wait队列组成。  
* 通过屏蔽中断来实现互斥
* v()操作里，整数加一，若还是小于等于0，说明等待队列里有等待进程，唤醒一个  
* P()操作里，整数减一，若小于0，说明资源不够，要加入等待队列，等待被唤醒  


### 练习2: 完成内核级条件变量和基于内核级条件变量的哲学家就餐问题（需要编码）

* 内核级的条件变量可以用信号量和一个计数器来实现wait和signal
* wait需要先增加条件变量的计数器，然后唤醒monitor的某个wait进程或者等待进程，然后自己进入条件等待，再次被唤醒后计数器减一。
* signal需要monitor等待进程的计数器，然后唤醒某个条件变量，自己再进monitor的等待进程，再次被唤醒后，减少monitor的等待进程计数器。  
* 